
<!doctype html>
<html lang="en">
  <head>
    <title>
      StructureMap - WhatDoIHave()</title>
    
<meta charset="utf-8"/>
<meta name="description" content="FubuDocs"/>
<meta name="author" content="FubuDocs"/>




<link href="/_content/styles/sons-of-obsidian.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/toastr.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/twitter/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/twitter/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/toastr-responsive.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/fubudocs.core.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/fubudocs.theme.css" rel="stylesheet" type="text/css" />

<link media="screen" type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Oswald:400,300">

    
  </head>
  <body data-spy="scroll" data-target=".bs-docs-sidebar" position="relative">
      
    <div class="container">
      
      

<div class="row">
  <div class="span6">
    <p class="logo">
      <a href="/topics" title="Fubu" class="root-link"><span>Fubu</span></a>
      <a href="/" title="The original IoC/DI Container for .Net" class="project-logo"><span>StructureMap</span></a>
    </p>
  </div>
  <div class="span6">
    <div class="top-header text-right">
      <em>
        <em><a href="http://groups.google.com/group/structuremap-users?hl=en">Join our vibrant mailing list</a></em>
      </em>
      <div class="social">
        <a href="https://github.com/structuremap/structuremap" class="ico-github"><img alt="Github" src="/_content/images/github-icon.png" /></a>
      </div>
    </div>
  </div>
</div>
      

      <div id="nav-follow" class="navbar">
        <div class="navbar-inner">
          <div class="container">
            <ul class="nav"><li><a href="/" data-key="index">StructureMap &#187;</a></li><li><a href="/diagnostics" data-key="index">Diagnostics &#187;</a></li><li class="active"><a href="/diagnostics/whatdoihave" data-key="whatdoihave">WhatDoIHave() &#187;</a></li></ul>
<ul class="nav" style="float:right"><li><a href="/diagnostics" title="Diagnostics">Previous</a></li><li><a href="/diagnostics/validating-container-configuration" title="Validating Container Configuration">Next</a></li></ul>
          </div>
        </div>
      </div>
      <hr/>
      <div class="row">
        
        

        <div class="row">
          <div class="span3 sidebar" data-spy="affix" data-offset-top="150" data-offset-bottom="200">
            
            <h3 class="half-margin">Topics</h3>
            <ul id="page-toc" class="nav nav-tabs nav-stacked bs-docs-sidebar">
            </ul>
            <br/>
            <h3>
              StructureMap v1.0.0
            </h3>

            <br/>
            <h3 class="no-margin">Next</h3>
<p><a href="/diagnostics/validating-container-configuration" data-key="validating-container-configuration">Validating Container Configuration</a></p>
<h3 class="no-margin">Previous</h3>
<p><a href="/diagnostics" data-key="index">Diagnostics</a></p>
          </div>
          <div class="span9">

              <h1 class="no-margin">WhatDoIHave()</h1>
              <hr class="header-line topic-line"></hr>

            <!--Title: WhatDoIHave()-->
<!--Url: whatdoihave-->
<p>The <code>IContainer.WhatDoIHave()</code> method can give you a quick textual report of the current configuration of a running <code>Container</code>:</p>

<pre data-linenums="21" class="prettyprint lang-cs">
            var container = new Container();
            var report = container.WhatDoIHave();

            Debug.WriteLine(report);
</pre>

<p>If you're familiar with <code>WhatDoIHave()</code> from earlier versions of StructureMap, the usage has been enhanced for 3.0 to allow you
to filter the results for easier usage. The format was also tweaked extensively to (hopefully) improve the usability of this feature.</p>

<p>Enough talk, say you have a <code>Container</code> with this configuration:</p>

<pre data-linenums="32" class="prettyprint lang-cs">
            var container = new Container(x =&gt; {
                x.For&lt;IEngine&gt;().Use&lt;Hemi&gt;().Named(&quot;The Hemi&quot;);

                x.For&lt;IEngine&gt;().Add&lt;VEight&gt;().Singleton().Named(&quot;V8&quot;);
                x.For&lt;IEngine&gt;().Add&lt;FourFiftyFour&gt;().AlwaysUnique();
                x.For&lt;IEngine&gt;().Add&lt;StraightSix&gt;().LifecycleIs&lt;ThreadLocalStorageLifecycle&gt;();

                x.For&lt;IEngine&gt;().Add(() =&gt; new Rotary()).Named(&quot;Rotary&quot;);
                x.For&lt;IEngine&gt;().Add(c =&gt; c.GetInstance&lt;PluginElectric&gt;());

                x.For&lt;IEngine&gt;().Add(new InlineFour());

                x.For&lt;IEngine&gt;().UseIfNone&lt;VTwelve&gt;();
                x.For&lt;IEngine&gt;().MissingNamedInstanceIs.ConstructedBy(c =&gt; new NamedEngine(c.RequestedName));
            });
</pre>

<p>If you were to run the code below against this <code>Container</code>:</p>

<pre data-linenums="50" class="prettyprint lang-cs">
            Debug.WriteLine(container.WhatDoIHave());
</pre>

<p>you would get the output shown in <a href="https://gist.githubusercontent.com/jeremydmiller/907e1deb2553a5ca5b18/raw/8b57456f36ccc5043e61d09e72b1ab5fcea94718/gistfile1.txt" target="_new">this gist</a>.</p>

<p>If you're curious, all the raw code for this example is in <a href="https://github.com/structuremap/structuremap/blob/master/src/StructureMap.Testing/WhatDoIHave_Smoke_Tester.cs">here</a>.</p>

<p><section><h4 id="filtering" class="section-header">Filtering WhatDoIHave()</h4></p>

<p>Filtering the <code>WhatDoIHave()</code> results can be done in these ways:</p>

<pre data-linenums="167" class="prettyprint lang-cs">
            var container = new Container();

            // Filter by the Assembly of the Plugin Type
            var byAssembly = container.WhatDoIHave(assembly: typeof (IWidget).Assembly);

            // Only report on the specified Plugin Type
            var byPluginType = container.WhatDoIHave(pluginType:typeof(IWidget));

            // Filter to Plugin Type&#39;s in the named namespace
            // The &#39;IsInNamespace&#39; test will include child namespaces
            var byNamespace = container.WhatDoIHave(@namespace: &quot;StructureMap.Testing.Widget&quot;);

            // Filter by a case insensitive string.Contains() match
            // against the Plugin Type name
            var byType = container.WhatDoIHave(typeName: &quot;Widget&quot;);
</pre>

<p></section></p>







          </div>
        </div>
      </div>
    </div>

    <br></br>
    <hr></hr>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <ul class="nav"><li><a href="/" data-key="index">StructureMap &#187;</a></li><li><a href="/diagnostics" data-key="index">Diagnostics &#187;</a></li><li class="active"><a href="/diagnostics/whatdoihave" data-key="whatdoihave">WhatDoIHave() &#187;</a></li></ul>
<ul class="nav" style="float:right"><li><a href="/diagnostics" title="Diagnostics">Previous</a></li><li><a href="/diagnostics/validating-container-configuration" title="Validating Container Configuration">Next</a></li></ul>
        </div>
      </div>
    </div>
    
    
    

<script type="text/javascript" src="/_content/scripts/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="/_content/scripts/prettify.js"></script>
<script type="text/javascript" src="/_content/scripts/bootstrap-prettify.js"></script>
<script type="text/javascript" src="/_content/scripts/fubudocs.js"></script>
<script type="text/javascript" src="/_content/scripts/jquery.nestable.js"></script>
<script type="text/javascript" src="/_content/scripts/toastr.js"></script>
<script type="text/javascript" src="/_content/scripts/twitter/bootstrap.min.js"></script>
<script type="text/javascript" src="/_content/scripts/diagnostics/bootstrap-scrollspy.js"></script>
<script type="text/javascript" src="/_content/scripts/fubudocs-tools.js"></script>
<script type="text/javascript" src="/_content/scripts/twitter/bootstrap-affix.js"></script>
<script type="text/javascript" src="/_content/scripts/topics.js"></script>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
    </p>
    <p>
      Powered by <a href="http://github.com/DarthFubuMVC/FubuDocs">FubuDocs</a>.
    </p>
  </div>
</footer>
  </body>
</html>